Bod =  [[[-24,0,64,96,96,64,0,-24,-64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,-16,-16,0,40,56,56,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[104,24,24,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[32,32,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[0,64,96,96,64,0,-24,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-16,-16,0,16,-8,-8,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-40,-24,24,40,40,16,-16,-40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-88,-120,-120,-88,16,40,40,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-8,-8,8,48,48,16,0,-24,-48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[24,-40,-56,-56,-8,24,16,40,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-32,-32,-16,-16,64,40,0,-40,-64,0,0,0,0,0,0,0,0,0,0,0,0,0],[16,-80,-80,16,120,120,40,120,120,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[-24,24,40,40,16,-16,-40,-40,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-176,-176,-128,16,40,40,16,-128,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[24,40,40,24,-24,-40,-40,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-120,-88,-64,-112,-112,-64,-88,-120,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-40,-40,-24,24,40,40,24,-24,-40,0,0,0,0,0,0,0,0,0,0,0,0,0],[-112,-128,-176,-176,-128,-112,-168,-168,72,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-24,96,96,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[24,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-24,-24,24,24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[32,-160,-160,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]];
Bodn = [8,4,8,8,6,4,8,8,8,4,4];

Tree = [[[0,-40,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[256,16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[8,-8,-16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[88,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[24,56,56,24,-24,-56,-56,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[64,88,128,152,152,128,88,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-48,-40,40,48,48,24,-24,-48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[8,0,0,8,48,72,72,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[12,-12,-16,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[12,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		];
Treen = [3,4,8,8,4];

Inv =  [[[152,160,160,152,-104,-120,-120,-104,104,120,120,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[32,40,72,80,80,64,-64,-80,-80,-64,24,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-104,-112,-112,-104,104,112,112,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[72,64,-64,-72,-72,-64,64,72,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[128,144,152,152,144,128,120,120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[40,40,48,64,72,72,64,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]
Invn = [12,8,8];

Stuff =[[[-40,-32,32,40,16,-16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[72,0,0,72,96,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[88,-88,-80,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[96,96,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-104,104,0,15,0,-15,-30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[96,96,136,0,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-16,-16,16,16,24,0,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[80,24,24,80,40,-8,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-8,-8,8,8,-8,-8,8,8,-48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[32,56,56,72,72,48,48,32,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-16,-16,16,16,64,40,0,-40,-64,0,0,0,0,0,0,0,0,0,0,0,0,0],[64,0,0,64,120,120,40,120,120,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[8,0,8,16,24,0,-24,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[40,32,24,32,16,64,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-48,-48,16,64,136,56,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[16,-16,16,16,-8,48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		[[-24,-8,16,32,32,-24,0,-16,-40,0,0,0,0,0,0,0,0,0,0,0,0,0],[32,16,16,32,48,48,128,72,72,0,0,0,0,0,0,0,0,0,0,0,0,0]]];
Stuffn=[6,4,3,4,8,4,4,6,6]
		
var a=10;
		
map = [[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,2,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,4,1,1,1,4,2,0,2,0,0,0,0,0,0,0,0,0,0],
		[1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,4,0,0],
		[1,1,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,3,1,1,0,0,4,0,0,0,2,0,0,0,0,0],
		[1,0,0,0,0,1,1,1,1,1,2,1,3,1,1,1,4,1,3,0,0,0,0,0,0,3,3,1,1,1,1,1,1,1,0,0,0,0,0,0],
		[1,0,0,0,0,1,1,1,2,1,3,1,3,3,0,0,0,0,0,0,0,0,0,0,6,2,1,1,2,1,1,1,1,1,1,1,4,0,2,0],
		[1,0,0,0,0,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,3,1,1,3,1,1,2,3,1,3,1,3,0,0],
		[1,0,0,0,0,3,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,3,1,0,0,0,0,0,0,0,1,1,1,1,2,0],
		[1,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,2,0,0,0,0,0,0,0,1,3,1,1,1,3],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,3,1,0,0,0,0,0,0,0,3,1,0,0,5,0,0,0,0,0,3,1,3,1,1],
		[1,1,0,0,0,0,0,0,0,5,0,0,0,6,3,1,1,1,1,0,0,0,0,0,0,0,4,0,0,0,0,5,0,0,0,1,2,1,1,2],
		[1,1,0,0,0,0,0,0,0,0,0,0,6,2,1,1,2,1,1,3,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,3,1,3,1,1],
		[1,1,1,0,0,0,0,0,0,0,0,0,6,1,3,2,4,3,1,1,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,1,2,1,4,1],
		[0,0,1,1,1,1,0,0,0,0,0,0,6,1,1,1,3,1,1,2,1,0,0,0,0,0,0,0,0,0,0,5,0,0,0,1,1,1,1,3],
		[0,0,0,0,0,1,0,0,0,0,0,0,0,3,1,1,1,1,1,1,1,1,0,0,0,0,0,0,5,0,0,0,0,0,0,3,3,1,1,2],
		[0,0,0,0,0,1,0,0,0,0,0,0,0,4,1,0,0,0,4,1,1,1,1,0,0,0,0,0,0,0,5,0,0,0,1,1,1,4,1,1],
		[0,0,0,0,0,1,0,0,0,0,0,0,0,9,0,0,0,0,0,0,0,2,1,1,0,0,0,0,0,0,0,0,0,3,3,1,2,1,1,0],
		[0,0,0,0,0,1,1,0,0,0,0,0,0,9,0,0,0,0,0,0,0,0,4,1,1,1,0,0,0,0,0,0,0,3,1,1,1,1,1,0],
		[0,0,0,0,0,0,1,1,1,1,0,0,0,2,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,1,1,2,1,1,1,0,0],
		[0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,a,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
		[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,3,0,0,0,0,0,a,a,a,1,1,2,1,1,1,1,1,1,2,1,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,3,0,a,a,a,a,a,1,1,1,1,1,0,0,0,0,0,0,0,2,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,a,a,a,a,a,a,a,1,1,1,1,0,0,0,0,0,4,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,4,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
		
	   [[0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,4],
		[0,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,2,3,1,1],
		[0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,1,3,1,3,3,1],
		[0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,3,0,0,0,0,0,0,0,0,2,1,4,1],
		[0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,4,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1],
		[0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],
		[0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,3,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1],
		[0,0,1,0,0,0,0,0,0,0,1,1,1,3,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1],
		[0,0,1,0,0,0,0,0,0,0,0,3,1,1,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,2,1],
		[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],
		[0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,1,2,0,0,0,0,4,1,1,1,1,4],
		[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,1,1,1,1,1,3,1,2,1,1,1,1,7,7],
		[0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,1,1,1,1,1,1,1,2,1,1,1,1,1,1,7,7,7,7,7],
		[0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,4,1,1,1,3,3,3,4,1,3,1,1,4,1,1,7,7,7,7,7,7,7,7],
		[0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,2,1,1,1,2,3,1,1,1,7,7,7,7,7,7,7,1,1,1],
		[0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,1,1,1,1,7,7,7,7,7,7,7,3,1,2,1],
		[0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,3,1,1,1,1,7,7,7,7,7,7,7,3,2,1,1,1],
		[0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,0,7,7,7,7,7,7,7,1,1,4,1,1],
		[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,7,1,2,1,2,4,1],
		[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,4,1,1,2,1,1,2],
		[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,1,3,3,3,2,1],
		[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,2,1,3,1,0,0,0,0,0,0,0,7,7,7,0,0,0,0,0,1,3,1,1,2],
		[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,3,1,1,1,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,2,1,4,1],
		[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,4,1,4,0,0,0,0,7,7,0,0,0,0,0,0,0,0,1,3,1,1],
		[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,2,1,1,0,7,7,7,7,0,0,0,0,0,0,0,0,3,1,3,2],
		[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,3,1,2,1,7,7,7,7,7,0,0,0,0,0,0,0,0,3,1,1,1],
		[0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,4,7,7,7,7,0,0,0,0,0,0,0,0,0,1,1,1,4],
		[0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,7,7,7,7,0,0,0,0,0,8,0,0,0,0,3,1,1],
		[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,3,1,2,7,7,7,0,0,0,0,0,0,0,0,0,0,1,2,3],
		[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1,7,7,7,7,7,0,0,0,0,0,0,0,0,2,1,1],
		[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,7,7,7,7,1,0,0,0,0,0,0,0,1,4,1],
		[0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,4,1,1,7,7,7,7,1,0,0,0,0,0,0,0,3,2,3],
		[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,7,7,7,7,7,1,0,0,0,0,0,0,0,3,1,4],
		[0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,7,7,7,7,1,1,0,0,0,0,0,0,0,1,2,1],
		[0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,7,7,7,7,1,0,0,0,0,0,0,0,0,2,3,4],
		[0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,7,7,7,7,1,0,0,0,0,0,0,0,1,3,4,1],
		[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,7,7,7,7,1,1,0,0,0,0,0,0,3,1,1,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,7,7,7,7,1,1,1,1,1,1,1,1,1,1,2,4],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]];
		
var scales = [0,0,0,0,0,0];
		
cFrame = [0,0,0,0,0,0,0,0,0,0];
bFrame = [0,0,0,0,0,0,0,0,0,0];
dFrame = [[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]];
var cx, cy, bx, by;



var lvlnum=0;

var InInv = [false, false, false, false, false, false, false];
		
var canvas = document.getElementById("Screen");
var context = canvas.getContext("2d");
context.rect(20,20,150,100);
context.fill();
		
var rr=0;

var picked=-1;

var frame=0, bframe=0;

var flipbit=1;

var invopen=false, invplace=180;

var ItemSel=-1;

var stage=0;

var csx=0, csy=0;

var canmove=true;

var flyswat = 0;

var deepfra=0;

charx=2000;
chary=101;

cursor_x=charx;
cursor_y=chary;

var deerfra=0, s2p=0;

var fba=1;
		
function draw() {
    context.clearRect(0, 0, 1280, 720);
	
	if (lvlnum==0) {
		context.fillStyle = '#101020';
    
		context.fillRect(0,0,800,225);
		
		context.fillStyle = '#0B180B';
		
		context.fillRect(0,225,800,225);
	} else if (lvlnum==1) {
		context.fillStyle = '#A09098';
    
		context.fillRect(0,0,800,225);
		
		context.fillStyle = '#609040';
		
		context.fillRect(0,225,800,225);
	}
    
    
	
	context.fillStyle = '#000000';
	context.font = "40px Arial";
	
	if (s2p>.5) {
		context.fillText("Thanks for playing!",400,223);
	}
	//
	
	flyswat++;
	
	MainControl();
	
	if (!LMouse && canmove==false) {
		canmove=true
	}
	
	if (px!=0) {
		if (px>0) {
			flipbit=1;
		} else {
			flipbit=-1;
		}
	}
	
	frame+=2;

	if (frame>69) {frame=0;}
	if (frame<0) {frame=69;}
	
	bframe+=1;

	if (stage==0 || stage==2) {
		if (bframe>69) {bframe=0;}
		if (bframe<0) {bframe=69;}
	}
	
	if (stage==1) {
		if (bframe>79) {
			bframe=80;
			//map[6][10]=0;
			//map[7][10]=0;
		}
	}
	
	var mainframe, mixframe, bmainframe;
	
	mixframe=Walk[0];
	mixframe[10]=0;
	mixframe[11]=0;
	
	var amt = (Math.abs(px)*2) + (Math.abs(py)/2);
	
	if (amt>10) {amt=10;}
	
	mainframe=MixFrames(Walk[0],SetFrame(),amt);
	if (stage==0) {
		amt = 100000/(((Math.abs(charx-l1x[lvlnum][1])/10)+Math.abs(chary-l1y[lvlnum][1]))*((Math.abs(charx-l1x[lvlnum][1])/10)+Math.abs(chary-l1y[lvlnum][1])));
		
		if (amt>10) {amt=10;}
		
		bmainframe=MixFrames(GetFrame(0,Bears,Bearx,Beary,bframe,20),GetFrame(1,Bears,Bearx,Beary,bframe,10),amt);
	} else if (stage==1) {
		bmainframe=GetFrame(2,Bears,Bearx,Beary,bframe,10);
	} else if (stage==2) {
		amt = (30-Math.abs(bearwalk-30));
		
		if (amt>10) {amt=10;}
		
		GetFrame(0,Bears,Bearx,Beary,bframe,20)
		GetFrame(3,Bears,Bearx,Beary,bearwalk,10)
		
		bmainframe=MixFrames(GetFrame(0,Bears,Bearx,Beary,bframe,20),GetFrame(3,Bears,Bearx,Beary,bearwalk,10),amt);
	}
	
	deerfra++;
	
	if (deerfra>79) {deerfra=0;}
	
	var tframe;
	
	dFrame[0] = MixFrames(GetFrame(0,Dear,Bearx,Beary,deerfra+40,40),GetFrame(1,Dear,Bearx,Beary,deerfra,10), s2p);
	dFrame[1] = MixFrames(GetFrame(0,Dear,Bearx,Beary,deerfra+40,40),GetFrame(1,Dear,Bearx,Beary,deerfra,10), s2p);
	dFrame[2] = MixFrames(GetFrame(0,Dear,Bearx,Beary,deerfra+40,40),GetFrame(1,Dear,Bearx,Beary,deerfra,10), s2p);
	dFrame[3] = GetFrame(2,Bears,Bearx,Beary,79,10);
	
	if (s2p!=0) {
		s2p+=.01;
		
		if (s2p>1) {
			s2p=1;
		}
		
		l1x[1][4]+=s2p*2;
		l1x[1][5]+=s2p*2;
		l1x[1][6]-=s2p*2;
	}
	
	var chamt=.1;
	
	if (Math.abs(px)>chamt) {
		if (px>0) {
			px-=chamt;
		} else {
			px+=chamt;
		}
	} else {
		px=0;
	}
	
	if (Math.abs(py)>chamt) {
		if (py>0) {
			py-=chamt;
		} else {
			py+=chamt;
		}
	} else {
		py=0;
	}
	
	for (i=0;i<10;i++) {
		cFrame[i]=mainframe[i];
	}

	cx=mainframe[10];
	cy=mainframe[11];
	
	for (i=0;i<10;i++) {
		bFrame[i]=bmainframe[i];
	}

	bx=bmainframe[10];
	by=bmainframe[11];
	
	if ((charx-scrollx)>600) {
		scrollx=charx-600;
	}
	if ((charx-scrollx)<200) {
		scrollx=charx-200;
	}
	
	if ((chary-scrolly)>250) {
		scrolly=chary-250;
	}
	if ((chary-scrolly)<150) {
		scrolly=chary-150;
	}
	
	var scale=(100/(chary-scrolly));
	var bscale=(100/(l1y[lvlnum][1]-scrolly));
	
	var chanx, chany;
	
	chanx=(px*4)*scale;
	chany=(py)*scale;
	
	charx+=chanx;
	chary+=chany;

	if (lvlnum==0 || lvlnum==1) {
		var cow = map[lvlnum][Math.floor(charx/400)][Math.floor(chary/40)+1]
	
		if (cow!=0 && cow!=5) {
			charx-=chanx;
			chary-=chany;
			
			cursor_x=charx;
			cursor_y=chary;
		}
		
		if (cow==a) {
			lvlnum=1;
			charx=2000;
			chary=100;
			bframe=0;
			stage=0;
		}
		
		DrawMap();
	} else if (lvlnum==2) {
		Cabin();
	}
	
	context.fillStyle = '#000000';
	context.font = "40px Arial";
	
	if (s2p>.5) {
		context.fillText("Thanks for playing!",400,223);
	}
	

	Inventory();
	
    KeyPrev();
    MousePrev();
}
		
function DrawBod(numb, rot, xpp, ypp, offx, offy, rescale, color) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	color=ChangeCol(color,rescale);
	
	rot=rot-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Bod[numb][0][0]+offx)*-scx)+((Bod[numb][1][0]+offy)*scy))*flipbit)+xpp;
    ypy=((((Bod[numb][0][0]+offx)*scy)+((Bod[numb][1][0]+offy)*scx)))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Bodn[numb]) {
		xpx=((((Bod[numb][0][count]+offx)*-scx)+((Bod[numb][1][count]+offy)*scy))*flipbit)+xpp;
		ypy=((((Bod[numb][0][count]+offx)*scy)+((Bod[numb][1][count]+offy)*scx)))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawHead(rot, xpp, ypp, rescale) {
	DrawBod(0, rot, xpp, ypp, 0, 0, rescale,'#404040');
	DrawBod(2, rot, xpp, ypp, 0, 0, rescale,'#606060');
	DrawBod(1, rot, xpp, ypp, 0, 0, rescale,"#B05050");
}
function DrawChest(rot, xpp, ypp, rescale) {
	DrawBod(3, rot, xpp, ypp,-16, 0, rescale,'#404040');
	DrawBod(7, rot, xpp, ypp,-16, 0, rescale,'#606060');
	DrawBod(3, rot, xpp, ypp, 16, 0, rescale,'#404040');
	DrawBod(7, rot, xpp, ypp, 16, 0, rescale,'#606060');
	DrawBod(5, rot, xpp, ypp, 48, 0, rescale,'#606060');
	DrawBod(5, rot, xpp, ypp, -4, 0, rescale,'#606060');
}
function DrawLL(rot, xpp, ypp, rescale) {
	DrawBod(6, rot, xpp, ypp,  0, 0, rescale,'#404040');
	DrawBod(8, rot, xpp, ypp,  0, 0, rescale,'#606060');
	DrawBod(4, rot, xpp, ypp,  0, 0, rescale,'#808080');
	DrawBod(5, rot, xpp, ypp,  0, 0, rescale,'#606060');
}
function DrawSL(rot, xpp, ypp, rescale) {
	DrawBod(3, rot, xpp, ypp,  0, 0, rescale,'#404040');
	DrawBod(7, rot, xpp, ypp,  0, 0, rescale,'#606060');
	DrawBod(4, rot, xpp, ypp,  0, 0, rescale,'#808080');
	DrawBod(5, rot, xpp, ypp,  0, 0, rescale,'#606060');
}
function DrawOL(rot, xpp, ypp, rescale) {
	DrawBod(3, rot, xpp, ypp,  0,-30, rescale,'#404040');
	DrawBod(7, rot, xpp, ypp,  0,-30, rescale,'#606060');
	DrawBod(4, rot, xpp, ypp,  0,-30, rescale,'#808080');
	DrawBod(5, rot, xpp, ypp,  0,-30, rescale,'#606060');
}

var bearwalk=0;

function DrawBBod(numb, rot, xpp, ypp, offx, offy, rescale, color) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	if (CheckClick(xpp,ypp,100,false) && ItemSel==2) {
		bearwalk=1;
		stage=2;
		map[0][17][13]=0;
		map[0][18][13]=0;
	}
	
	if (bearwalk>0) {bearwalk+=.01;}
	if (bearwalk>59) {bearwalk=59;}
	
	color=ChangeCol(color,rescale);
	
	rot=rot-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Bod[numb][0][0]+offx)*-scx)+((Bod[numb][1][0]+offy)*scy))*-1)+xpp;
    ypy=((((Bod[numb][0][0]+offx)*scy)+((Bod[numb][1][0]+offy)*scx)))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Bodn[numb]) {
		xpx=((((Bod[numb][0][count]+offx)*-scx)+((Bod[numb][1][count]+offy)*scy))*-1)+xpp;
		ypy=((((Bod[numb][0][count]+offx)*scy)+((Bod[numb][1][count]+offy)*scx)))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawBHead(rot, xpp, ypp, rescale) {
	
	DrawBBod(5, rot, xpp, ypp,  4, 0, rescale,'#604040');
	DrawBBod(5, rot, xpp, ypp,  8, 0, rescale,'#604040');
	DrawBBod(5, rot, xpp, ypp, 24, 0, rescale,'#604040');
	DrawBBod(5, rot, xpp, ypp, 32, 0, rescale,'#604040');
	DrawBBod(5, rot, xpp, ypp, 40, 0, rescale,'#604040');

	DrawTree(3, rot, xpp, ypp, 0, 0, rescale,'#604040',1/4);
}
function DrawBChest(rot, xpp, ypp, rescale) {
	DrawBBod(3, rot, xpp, ypp,-16, 0, rescale,'#604040');
	DrawBBod(3, rot, xpp, ypp, 16, 0, rescale,'#604040');
}
function DrawBLL(rot, xpp, ypp, rescale) {
	DrawBBod(6, rot, xpp, ypp,  0, 0, rescale,'#604040');
	DrawBBod(8, rot, xpp, ypp,  0, 0, rescale,'#806060');
}
function DrawBSL(rot, xpp, ypp, rescale) {
	DrawBBod(3, rot, xpp, ypp,  0, 0, rescale,'#604040');
}
function DrawBOL(rot, xpp, ypp, rescale) {
	DrawBBod(3, rot, xpp, ypp,  0,-30, rescale,'#604040');
	DrawBBod(7, rot, xpp, ypp,  0,-30, rescale,'#806060');
}

function DrawDBod(numb, rot, xpp, ypp, offx, offy, rescale, color) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	rot=rot-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Bod[numb][0][0]+offx)*-scx)+((Bod[numb][1][0]+offy)*scy))*fba)+xpp;
    ypy=(((Bod[numb][0][0]+offx)*scy)+((Bod[numb][1][0]+offy)*scx))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Bodn[numb]) {
		xpx=((((Bod[numb][0][count]+offx)*-scx)+((Bod[numb][1][count]+offy)*scy))*fba)+xpp;
		ypy=(((Bod[numb][0][count]+offx)*scy)+((Bod[numb][1][count]+offy)*scx))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawDHead(rot, xpp, ypp, rescale) {
	
	DrawDBod(10, rot, xpp, ypp,  0, 150, rescale,'#A05850');
	DrawDBod(10, rot, xpp, ypp,  12, 150, rescale,'#A05850');
	DrawDBod(10, rot+20, xpp, ypp,-50, 300, rescale,'#A09090');
	DrawDBod(10, rot-20, xpp, ypp, 50, 300, rescale,'#A09090');
	DrawDBod(0, rot, xpp, ypp, 0, 150, rescale,'#A05850');
}
function DrawDChest(rot, xpp, ypp, rescale) {
	DrawDBod(3, rot, xpp, ypp,-16, 0, rescale*2,'#A05850');
}
function DrawDLL(rot, xpp, ypp, rescale) {
	DrawDBod(10, rot, xpp, ypp,  0, 0, rescale,'#A05850');
}
function DrawDSL(rot, xpp, ypp, rescale) {
	DrawDBod(10, rot, xpp, ypp,  0, 0, rescale*.8,'#A09090');
}

function RunDBod(xpp, ypp, rescale, sel){
	var scx, scy, xpx, ypy, ox, oy;
	
	ox=5;
	oy=20;
	
	rot=dFrame[sel][0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba);
    ypy=(ox*scy)+(oy*scx);
	xpx=xpx*fba;
	
	DrawDLL(dFrame[sel][2],xpx+xpp,ypy+ypp,rescale);
	
	ax[2] = xpx+xpp;
	ay[2] = ypy+ypp;
	
	ox=0;
	oy=-185;
	
	rot=dFrame[sel][2]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;

	
	DrawDSL(dFrame[sel][3],xpx+xpp,ypy+ypp,rescale);
	
	ax[3] = xpx+xpp;
	ay[3] = ypy+ypp;
	
	DrawDChest(dFrame[sel][0],xpp,ypp,rescale);
	
	ax[0] = xpp;
	ay[0] = ypp;
	
	ox=-20;
	oy=60;
	
	rot=dFrame[sel][0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba);
    ypy=(ox*scy)+(oy*scx);

	
	DrawDHead(dFrame[sel][1],xpx+xpp,ypy+ypp,rescale);
	
	ax[1] = xpx+xpp;
	ay[1] = ypy+ypp;
	
	
	
	ox=5;
	oy=-165;
	
	rot=dFrame[sel][0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba);
    ypy=(ox*scy)+(oy*scx);

	
	DrawDLL(dFrame[sel][4],xpx+xpp,ypy+ypp,rescale);
	
	ax[4] = xpx+xpp;
	ay[4] = ypy+ypp;
	
	ox=0;
	oy=-185;
	
	rot=dFrame[sel][4]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;

	
	DrawDSL(dFrame[sel][5],xpx+xpp,ypy+ypp,rescale);
	
	ax[5] = xpx+xpp;
	ay[5] = ypy+ypp;
	
	ox=-5;
	oy=-165;
	
	rot=dFrame[sel][0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba);
    ypy=(ox*scy)+(oy*scx);

	
	DrawDLL(dFrame[sel][6],xpx+xpp,ypy+ypp,rescale);
	
	ax[6] = xpx+xpp;
	ay[6] = ypy+ypp;
	
	ox=0;
	oy=-185;
	
	rot=dFrame[sel][6]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;

	
	DrawDSL(dFrame[sel][7],xpx+xpp,ypy+ypp,rescale);
	
	ax[7] = xpx+xpp;
	ay[7] = ypy+ypp;
	
	
	
	ox=-5;
	oy=20;
	
	rot=dFrame[sel][0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba);
    ypy=(ox*scy)+(oy*scx);

	
	DrawDLL(dFrame[sel][8],xpx+xpp,ypy+ypp,rescale);
	
	ax[8] = xpx+xpp;
	ay[8] = ypy+ypp;
	
	ox=0;
	oy=-185;
	
	rot=dFrame[sel][8]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*fba)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;

	
	DrawDSL(dFrame[sel][9],xpx+xpp,ypy+ypp,rescale);
	
	ax[9] = xpx+xpp;
	ay[9] = ypy+ypp;
}

function DrawTree(numb, rot, xpp, ypp, offx, offy, rescale, color, scsc) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	color=ChangeCol(color,rescale);
	
	rescale=rescale*4*scsc;
	
	rot=rot-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Tree[numb][0][0]+offx)*-scx)+((Tree[numb][1][0]+offy)*scy)))+xpp;
    ypy=((((Tree[numb][0][0]+offx)*scy)+((Tree[numb][1][0]+offy)*scx)))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Treen[numb]) {
		xpx=((((Tree[numb][0][count]+offx)*-scx)+((Tree[numb][1][count]+offy)*scy)))+xpp;
		ypy=((((Tree[numb][0][count]+offx)*scy)+((Tree[numb][1][count]+offy)*scx)))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawSPine(rot, xpp, ypp, rescale) {
	DrawTree(1, rot, xpp, ypp,  0,-60, rescale, '#402020', 1);
	DrawTree(0, rot, xpp, ypp,  0,-70, rescale, '#60A060', 1);
}
function DrawLPine(rot, xpp, ypp, rescale) {
	DrawTree(1, rot, xpp, ypp,  0,-30, rescale, '#402020', 2);
	DrawTree(0, rot, xpp, ypp,  0,-35, rescale, '#60A060', 2);
}
function DrawSOak(rot, xpp, ypp, rescale) {
	DrawTree(1, rot, xpp, ypp,  0,-30, rescale, '#402020', 2);
	DrawTree(2, rot, xpp, ypp,  0,-20, rescale, '#60A060', 2);
}
function DrawLOak(rot, xpp, ypp, rescale) {
	DrawTree(1, rot, xpp, ypp,  0,-20, rescale, '#402020', 3);
	DrawTree(2, rot, xpp, ypp,  0,-10, rescale, '#60A060', 3);
}
function DrawStump(rot, xpp, ypp, rescale) {
	DrawTree(4, rot, xpp, ypp,  0,-20, rescale, '#402020', 3);
}
function DrawBush(rot, xpp, ypp, rescale) {
	DrawTree(3, rot, xpp, ypp,  0,-45, rescale, '#60A060', 1.3);
}

function DrawStuff(numb, rot, xpp, ypp, offx, offy, rescale, color, scsc) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	color=ChangeCol(color,rescale);
	
	rescale=rescale*4*scsc;
	
	rot=rot-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Stuff[numb][0][0]+offx)*-scx)+((Stuff[numb][1][0]+offy)*scy)))+xpp;
    ypy=((((Stuff[numb][0][0]+offx)*scy)+((Stuff[numb][1][0]+offy)*scx)))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Stuffn[numb]) {
		xpx=((((Stuff[numb][0][count]+offx)*-scx)+((Stuff[numb][1][count]+offy)*scy)))+xpp;
		ypy=((((Stuff[numb][0][count]+offx)*scy)+((Stuff[numb][1][count]+offy)*scx)))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawHouse(xpp, ypp, rescale) {
	DrawStuff(1, 0, xpp, ypp,  0,-60, rescale, '#A06060', 1);
	DrawStuff(2, 0, xpp, ypp,  0,-60, rescale, '#A0A060', 1);
	DrawStuff(3, 0, xpp, ypp, 60,-60, rescale, '#404040', .8);
	DrawStuff(4, 0, xpp, ypp, 60,-60, rescale, '#202020', .8);
	DrawStuff(3, 0, xpp, ypp,-60,-60, rescale, '#404040', .8);
	DrawStuff(4, 0, xpp, ypp,-60,-60, rescale, '#202020', .8);
	DrawStuff(5, 0, xpp, ypp,  0,-60, rescale, '#202020', 1);
	DrawStuff(6, 0, xpp, ypp, 20,-90, rescale, '#A0A060', .5);
	
	DrawLock(xpp, ypp,rescale);
}
function DrawGrave(xpp, ypp, rescale) {
	DrawStuff(0, 0, xpp, ypp,  0,-60, rescale, '#606060', 1);
	DrawShovel(xpp, ypp, rescale);
}
function DrawNest(xpp, ypp, rescale) {
	var rot=0;
	
	if (keydown>0) {
		keydown++;
		
		ypp=ypp+(keydown*rescale*10);
		rot=keydown;
		
		if (keydown>100) {keydown=100;}
	}
	
	DrawKey(xpp, ypp, rescale);
	DrawStuff(8, rot, xpp, ypp,  0,-60, rescale, '#B0B0A0', 1);
	DrawStuff(7, rot, xpp, ypp,  0,-60, rescale, '#402020', 1);
}


var hazberry=0, wasberry=true;

function DrawBerryBush(xpp, ypp, rescale) {
	DrawTree(3, 0, xpp, ypp,  0,-45, rescale, '#60A060', 1.3);
	
	if (hazberry==0) {
		DrawTree(2, 10, xpp, ypp,  0,-45, rescale*10, '#0000F0', .01);
		DrawTree(2, 20, xpp, ypp, 400,-45, rescale*10, '#0000F0', .01);
		DrawTree(2,-12, xpp, ypp,-500,-90, rescale*10, '#0000F0', .01);
		DrawTree(2,-12, xpp, ypp,-300,-300, rescale*10, '#0000F0', .01);
		
		if (CheckClickB(xpp,ypp,l1y[0][4],120,false) && ItemSel==1) {
			LMousep=true;
			
			hazberry=1;
			
			l1x[0][6]=2300;
			l1y[0][6]=901;
			indc[0][6]=6;
		}
	} else if (wasberry) {
		DrawTree(2, 10, xpp, ypp,  0,-45, rescale*10, '#0000F0', .01);
		DrawTree(2, 20, xpp, ypp, 400,-45, rescale*10, '#0000F0', .01);
		DrawTree(2,-12, xpp, ypp,-500,-90, rescale*10, '#0000F0', .01);
		DrawTree(2,-12, xpp, ypp,-300,-300, rescale*10, '#0000F0', .01);
		
		if (CheckClick(xpp,ypp,100,false)) {
			InInv[2]=true;
			wasberry=false;
		}
	}

}
function DrawDeadOak(rot, xpp, ypp, rescale) {
	if (stage==0) {
		if (CheckClick(xpp,ypp,100,false) && ItemSel==0) {
			stage++;
			bframe=0;
			
			if (lvlnum==0) {
				map[0][17][13]=0;
				map[0][18][13]=0;
			} else {
				map[1][23][28]=0;
				map[1][23][26]=0;
				map[1][24][27]=0;
				map[1][23][27]=0;
				map[1][22][26]=0;
				map[1][23][28]=0;
				map[1][25][27]=0;
				map[1][23][29]=0;
				map[1][21][21]=0;
				
				map[1][24][28]=0;
				map[1][24][26]=0;
				map[1][25][27]=0;
				map[1][24][27]=0;
				map[1][23][26]=0;
				map[1][24][28]=0;
				map[1][26][27]=0;
				map[1][24][29]=0;
				map[1][22][21]=0;
			}
		}
	} else if (stage==1) {
		rot=bframe;
	}
	
	DrawTree(1, rot, xpp, ypp,  0,-20, rescale, '#604040', 1.8);
	DrawTree(1, rot+20, xpp, ypp,  10,70, rescale, '#604040', .8);
	DrawTree(1, rot+10, xpp, ypp,  10,100, rescale, '#604040', .7);
	DrawTree(1, rot-25, xpp, ypp, 0,60, rescale, '#604040', .9);
	DrawTree(1, rot-5, xpp, ypp,  0,100, rescale, '#604040', 1);
}
function DrawAxe(xpp, ypp, rescale) {
	if (CheckClickB(xpp,ypp,l1y[0][3],90,false)) {
		indc[0][3]=-1;
		InInv[0]=true;
	}
	
	xpp=xpp-(32*rescale);
	ypp=ypp-((96)*rescale);
	
	context.drawImage(axe,xpp,ypp,128*rescale,128*rescale);
}
function DrawFly(xpp, ypp, rescale, offset) {
	DrawTree(2, 0, xpp, ypp, Math.sin((flyswat+offset)/5)*200, Math.cos((flyswat+offset)/5)*200, rescale, '#000000', .1);
}
function DrawFlower(xpp, ypp, rescale) {
	if (l1x[0][6]==4500) {
		if (CheckClickB(xpp,ypp,l1y[0][6],90,false)) {
			indc[0][6]=-1;
			InInv[1]=true;
		}
	}
	
	xpp=xpp-(32*rescale);
	ypp=ypp-((96)*rescale);
	
	context.drawImage(flower,xpp,ypp,128*rescale,128*rescale);
}
function DrawShovel(xpp, ypp, rescale) {
	if (shovelhere) {
		if (CheckClickB(xpp,ypp,l1y[1][2],100,false)) {
			shovelhere=false;
			InInv[4]=true;
		}
			
		xpp=xpp-(512*rescale);
		ypp=ypp-(128*rescale);
		
		context.drawImage(shovel,xpp,ypp,412*rescale,412*rescale);
	}
}
function DrawKey(xpp, ypp, rescale) {
	if (keyhere) {
		if (keydown>0) {
			if (CheckClickB(xpp,ypp,l1y[1][3],120,false)) {
				keyhere=false
				InInv[6]=true;
			}
		} else {
			if (CheckClickB(xpp,ypp,l1y[1][3],120,false) && ItemSel==5) {
				keydown=1;
			}
		}
		
		xpp=xpp-(0*rescale);
		ypp=ypp-(24*rescale);
		
		context.drawImage(key,xpp,ypp,128*rescale,128*rescale);
	}
}
function DrawRock(xpp, ypp, rescale) {
	if (CheckClickB(xpp,ypp,l1y[1][8],120,false)) {
		indc[1][8]=-1;
		InInv[5]=true;
	}

	xpp=xpp-(0*rescale);
	ypp=ypp-(24*rescale);
	
	context.drawImage(rock,xpp,ypp,128*rescale,128*rescale);
}
function DrawLock(xpp, ypp, rescale) {
	if (locked) {
		if (CheckClickB(xpp,ypp,l1y[1][1],120,false && ItemSel==6)) {
			locked=false;
		}

		xpp=xpp-(0*rescale);
		ypp=ypp+(24*rescale);
		
		context.drawImage(lock,xpp,ypp,128*rescale,128*rescale);
	} else {
		if (CheckClickB(xpp,ypp,l1y[1][1],240,false)) {
			lvlnum=2;
			charx=0;
			chary=0;
			LMouse=false;
		}
	}
}

var buried=false;
var dead=false;

function DOOD(xpp,ypp,scale,y){
	if (s2p==0) {
		if (CheckClick(xpp,ypp,100,y,false) && ItemSel==3) {
			dead=true;
			s2p=.01;
		}
		
		if (CheckClick(xpp,ypp,100,y,false) && ItemSel==4) {
			buried=true;
			s2p=.01;
		}
	}
	
	if (buried) {
		DrawStuff(2, 0, xpp, ypp,  0,-100, scale, '#302020', 2);
	}
	
	if (dead) {
		DrawStuff(2, 0, xpp, ypp,0,-180, scale, '#F05050', 1);
	}
} 

var keydown=0;
var keyhere=true;
var shovelhere=true;
var locked=true;
var gunthere=true;

function DrawInv(numb, xpp, ypp, rescale, color) {
    var count=0;
    var scx, scy, xpx, ypy;
	
	rescale=rescale*4;
	
	var rot=-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;

    context.fillStyle = color;
    context.beginPath();
    
    xpx=((((Inv[numb][0][0])*-scx)+((Inv[numb][1][0])*scy)))+xpp;
    ypy=((((Inv[numb][0][0])*scy)+((Inv[numb][1][0])*scx)))+ypp;
    
    context.moveTo(xpx,ypy);
    
    while (count<Invn[numb]) {
		xpx=((((Inv[numb][0][count])*-scx)+((Inv[numb][1][count])*scy)))+xpp;
		ypy=((((Inv[numb][0][count])*scy)+((Inv[numb][1][count])*scx)))+ypp;
        
        context.lineTo(xpx,ypy);
		
		count++;
    }
    
    context.closePath();
    context.fill();
}
function DrawInvent(xpp, ypp, scale) {
	DrawInv(0,xpp,ypp,scale,"#101010");
	DrawInv(1,xpp,ypp,scale,"#404040");
	DrawInv(2,xpp,ypp,scale,"#404040");
}
function ItemSelect() {
	if (ItemSel==0) {
		context.drawImage(axe,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==1) {
		context.drawImage(flower,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==2) {
		context.drawImage(blueberries,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==3) {
		context.drawImage(gun,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==4) {
		context.drawImage(shovel,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==5) {
		context.drawImage(rock,mouse_x-32,mouse_y-32,64,64);
	} else if (ItemSel==6) {
		context.drawImage(key,mouse_x-32,mouse_y-32,64,64);
	}
}

function ChangeCol(col, bright) {
	bright=bright;
	
	
	if (lvlnum==0) {
		if (bright>1) {
			bright=1;
		}
		
		var check=col.substring(1,2);
		var count=0;
		var diff;
		var out1, out2, out3, out4, out5, out6;
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(2,3);
		
		count+=CharToNum(check);
		
		count=Math.round(count*bright);

		out2=NumToChar(count%16);
		out1=NumToChar(Math.floor(count/16));
		
		
		check=col.substring(3,4);
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(4,5);
		
		count+=CharToNum(check);
		
		count=Math.round(count*bright);

		out4=NumToChar(count%16);
		out3=NumToChar(Math.floor(count/16));
		
		
		check=col.substring(5,6);
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(6,7);
		
		count+=CharToNum(check);
		
		count=Math.round(count*bright);

		out6=NumToChar(count%16);
		out5=NumToChar(Math.floor(count/16));
		
		return "#" + out1 + out2 + out3 + out4 + out5 + out6;
	} else if (lvlnum==1) {
		bright=bright*5;
		
		if (bright>1) {
			bright=1;
		}
	
		
		var check=col.substring(1,2);
		var count=0;
		var diff;
		var out1, out2, out3, out4, out5, out6;
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(2,3);
		
		count+=CharToNum(check);
		
		count=255-count;
		
		count=Math.round(count*bright);
		
		count=255-count;

		out2=NumToChar(count%16);
		out1=NumToChar(Math.floor(count/16));
		
		
		check=col.substring(3,4);
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(4,5);
		
		count+=CharToNum(check);
		
		count=255-count;
		
		//count=Math.round(count*bright);
		count=Math.round(count*(1-((1-bright)/2)));
		
		count=255-count;

		out4=NumToChar(count%16);
		out3=NumToChar(Math.floor(count/16));
		
		
		check=col.substring(5,6);
		
		count=CharToNum(check);
		count*=16;
		
		check=col.substring(6,7);
		
		count+=CharToNum(check);
		
		count=255-count;
		
		//count=Math.round(count*bright);
		count=Math.round(count*(1-((1-bright)*.8)));
		
		count=255-count;

		out6=NumToChar(count%16);
		out5=NumToChar(Math.floor(count/16));
		
		return "#" + out1 + out2 + out3 + out4 + out5 + out6;
	} if (lvlnum==2) {
		return col;
	}
}
function CharToNum(check) {
	var count=0;
	
	if (check=="0") {
		count=0;
	} else if (check=="1") {
		count=1;
	} else if (check=="2") {
		count=2;
	} else if (check=="3") {
		count=3;
	} else if (check=="4") {
		count=4;
	} else if (check=="5") {
		count=5;
	} else if (check=="6") {
		count=6;
	} else if (check=="7") {
		count=7;
	} else if (check=="8") {
		count=8;
	} else if (check=="9") {
		count=9;
	} else if (check=="A") {
		count=10;
	} else if (check=="B") {
		count=11;
	} else if (check=="C") {
		count=12;
	} else if (check=="D") {
		count=13;
	} else if (check=="E") {
		count=14;
	} else if (check=="F") {
		count=15;
	}
	
	return count;
}
function NumToChar(check) {
	var count=0;
	
	if (check==0) {
		count="0";
	} else if (check==1) {
		count="1";
	} else if (check==2) {
		count="2";
	} else if (check==3) {
		count="3";
	} else if (check==4) {
		count="4";
	} else if (check==5) {
		count="5";
	} else if (check==6) {
		count="6";
	} else if (check==7) {
		count="7";
	} else if (check==8) {
		count="8";
	} else if (check==9) {
		count="9";
	} else if (check==10) {
		count="A";
	} else if (check==11) {
		count="B";
	} else if (check==12) {
		count="C";
	} else if (check==13) {
		count="D";
	} else if (check==14) {
		count="E";
	} else if (check==15) {
		count="F";
	}
	
	return count;
}

function DrawATree(numb, xpp, ypp) {
	var scale=(100/ypp);
	var scalea, scaleb;
	
	if (scale>0 && (scale<1 || numb==7)) {
		if (numb==1) {
			DrawSPine(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==2) {
			DrawLPine(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==3) {
			DrawSOak(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==4) {
			DrawLOak(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==5) {
			DrawStump(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==6) {
			DrawBush(0,((xpp-400)*scale)+400,225,scale);
		} else if (numb==7) {
			scalea=(100/(ypp+50));
			scaleb=(100/(ypp));
			
			context.fillStyle = "#0000FF";
			context.beginPath();
			
			xpx=(((xpp-400+250)*scalea))+400;
			ypy=(250*scalea)+225;
			
			context.moveTo(xpx,ypy);

			xpx=(((xpp-400-250)*scalea))+400;
			ypy=(250*scalea)+225;
				
			context.lineTo(xpx,ypy);
			
			xpx=(((xpp-400-250)*scaleb))+400;
			ypy=(250*scaleb)+225;
				
			context.lineTo(xpx,ypy);
			
			xpx=(((xpp-400+250)*scaleb))+400;
			ypy=(250*scaleb)+225;
				
			context.lineTo(xpx,ypy);

			context.closePath();
			context.fill();
		} else if (numb==8) {
			scalea=(100/(ypp+100));
			scaleb=(100/(ypp));
			
			context.fillStyle = "#603030";
			context.beginPath();
			
			xpx=(((xpp-400+250)*scalea))+400;
			ypy=(250*scalea)+225;
			
			context.moveTo(xpx,ypy);

			xpx=(((xpp-400-250)*scalea))+400;
			ypy=(250*scalea)+225;
				
			context.lineTo(xpx,ypy);
			
			xpx=(((xpp-400-250)*scaleb))+400;
			ypy=(250*scaleb)+225;
				
			context.lineTo(xpx,ypy);
			
			xpx=(((xpp-400+250)*scaleb))+400;
			ypy=(250*scaleb)+225;
				
			context.lineTo(xpx,ypy);

			context.closePath();
			context.fill();
		}
	}
}
function RunBod(xpp, ypp, rescale){
	var xpx, ypy, ox, oy;
	
	csx=xpp;
	csy=ypp;
	
	ox=30;
	oy=0;
	
	rot=cFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit);
    ypy=(ox*scy)+(oy*scx);
	
	DrawSL(cFrame[2],xpx+xpp,ypy+ypp,rescale);
	
	ax[2] = xpx+xpp;
	ay[2] = ypy+ypp;
	
	ox=0;
	oy=-165;
	
	rot=cFrame[2]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawLL(cFrame[3],xpx+xpp,ypy+ypp,rescale);
	
	ax[3] = xpx+xpp;
	ay[3] = ypy+ypp;
	
	DrawChest(cFrame[0],xpp,ypp,rescale);
	
	ax[0] = xpp;
	ay[0] = ypp;
	
	ox=-20;
	oy=60;
	
	rot=cFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit);
    ypy=(ox*scy)+(oy*scx);
	
	DrawHead(cFrame[1],xpx+xpp,ypy+ypp,rescale);
	
	ax[1] = xpx+xpp;
	ay[1] = ypy+ypp;
	
	
	
	ox=10;
	oy=-165;
	
	rot=cFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit);
    ypy=(ox*scy)+(oy*scx);
	
	DrawSL(cFrame[4],xpx+xpp,ypy+ypp,rescale);
	
	ax[4] = xpx+xpp;
	ay[4] = ypy+ypp;
	
	ox=0;
	oy=-135;
	
	rot=cFrame[4]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawOL(cFrame[5],xpx+xpp,ypy+ypp,rescale);
	
	ax[5] = xpx+xpp;
	ay[5] = ypy+ypp;
	
	ox=-10;
	oy=-165;
	
	rot=cFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit);
    ypy=(ox*scy)+(oy*scx);
	
	DrawSL(cFrame[6],xpx+xpp,ypy+ypp,rescale);
	
	ax[6] = xpx+xpp;
	ay[6] = ypy+ypp;
	
	ox=0;
	oy=-135;
	
	rot=cFrame[6]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawOL(cFrame[7],xpx+xpp,ypy+ypp,rescale);
	
	ax[7] = xpx+xpp;
	ay[7] = ypy+ypp;
	
	
	
	ox=-30;
	oy=0;
	
	rot=cFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit);
    ypy=(ox*scy)+(oy*scx);
	
	DrawSL(cFrame[8],xpx+xpp,ypy+ypp,rescale);
	
	ax[8] = xpx+xpp;
	ay[8] = ypy+ypp;
	
	ox=0;
	oy=-165;
	
	rot=cFrame[8]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*flipbit)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawLL(cFrame[9],xpx+xpp,ypy+ypp,rescale);
	
	ax[9] = xpx+xpp;
	ay[9] = ypy+ypp;
}
function RunBBod(xpp, ypp, rescale){
	var scx, scy, xpx, ypy, ox, oy;
	
	ox=50;
	oy=0;
	
	rot=bFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1);
    ypy=(ox*scy)+(oy*scx);
	
	DrawBSL(bFrame[2],xpx+xpp,ypy+ypp,rescale);
	
	ax[2] = xpx+xpp;
	ay[2] = ypy+ypp;
	
	ox=0;
	oy=-120;
	
	rot=bFrame[2]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawBLL(bFrame[3],xpx+xpp,ypy+ypp,rescale);
	
	ax[3] = xpx+xpp;
	ay[3] = ypy+ypp;
	
	DrawBChest(bFrame[0],xpp,ypp,rescale);
	
	ax[0] = xpp;
	ay[0] = ypp;
	
	ox=0;
	oy=45;
	
	rot=bFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1);
    ypy=(ox*scy)+(oy*scx);
	
	DrawBHead(bFrame[1],xpx+xpp,ypy+ypp,rescale);
	
	ax[1] = xpx+xpp;
	ay[1] = ypy+ypp;
	
	
	
	ox=10;
	oy=-130;
	
	rot=bFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1);
    ypy=(ox*scy)+(oy*scx);
	
	DrawBSL(bFrame[4],xpx+xpp,ypy+ypp,rescale);
	
	ax[4] = xpx+xpp;
	ay[4] = ypy+ypp;
	
	ox=0;
	oy=-135;
	
	rot=bFrame[4]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawBOL(bFrame[5],xpx+xpp,ypy+ypp,rescale);
	
	ax[5] = xpx+xpp;
	ay[5] = ypy+ypp;
	
	ox=-10;
	oy=-130;
	
	rot=bFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1);
    ypy=(ox*scy)+(oy*scx);
	
	DrawBSL(bFrame[6],xpx+xpp,ypy+ypp,rescale);
	
	ax[6] = xpx+xpp;
	ay[6] = ypy+ypp;
	
	ox=0;
	oy=-135;
	
	rot=bFrame[6]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawBOL(bFrame[7],xpx+xpp,ypy+ypp,rescale);
	
	ax[7] = xpx+xpp;
	ay[7] = ypy+ypp;
	
	
	
	ox=-50;
	oy=0;
	
	rot=bFrame[0]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1);
    ypy=(ox*scy)+(oy*scx);
	
	DrawBSL(bFrame[8],xpx+xpp,ypy+ypp,rescale);
	
	ax[8] = xpx+xpp;
	ay[8] = ypy+ypp;
	
	ox=0;
	oy=-120;
	
	rot=bFrame[8]-90;
    
    scx=Math.sin(rot/57.29)*rescale;
    scy=Math.cos(rot/57.29)*rescale;
    xpx=(((ox*-scx)+(oy*scy))*-1)+xpx;
    ypy=(ox*scy)+(oy*scx)+ypy;
	
	DrawBLL(bFrame[9],xpx+xpp,ypy+ypp,rescale);
	
	ax[9] = xpx+xpp;
	ay[9] = ypy+ypp;
}

function SetFrame() {
	var macro = Math.floor(frame/10);
	var micro = frame%10;
	var diff;
	
	var retList = [0,0,0,0,0,0,0,0,0,0,0,0];
	
	for (i=0;i<10;i++) {
		diff=(Walk[macro+1][i]-Walk[macro][i])/10;
		
		while (diff>18) {diff-=36;}
		while (diff<-18) {diff+=36;}
		
		retList[i]=Walk[macro][i]+(diff*micro);
	}
	
	retList[10]=0;
	retList[11]=((Walky[macro]/10)*(10-micro))+((Walky[macro+1]/10)*(micro));
	
	return retList;
}
function GetFrame(ani, bank, bankx, banky, fram,speed) {
	var macro = Math.floor(fram/speed);
	var micro = fram%speed;
	var diff;
	
	var retList = [0,0,0,0,0,0,0,0,0,0,0,0];
	
	for (i=0;i<10;i++) {
		diff=(bank[ani][macro+1][i]-bank[ani][macro][i])/speed;
		
		while (diff>18) {diff-=36;}
		while (diff<-18) {diff+=36;}
		
		retList[i]=bank[ani][macro][i]+(diff*micro);
	}
	
	retList[10]=((bankx[ani][macro]/speed)*(speed-micro))+((bankx[ani][macro+1]/speed)*(micro));
	retList[11]=((banky[ani][macro]/speed)*(speed-micro))+((banky[ani][macro+1]/speed)*(micro));
	
	return retList;
}
function MixFrames(frame1, frame2, part) {
	var diff;
	
	var retList = [0,0,0,0,0,0,0,0,0,0,0,0];
	
	for (i=0;i<10;i++) {
		diff=(frame2[i]-frame1[i])/10;
		
		while (diff>18) {diff-=36;}
		while (diff<-18) {diff+=36;}
		
		retList[i]=frame1[i]+(diff*part);
	}
	
	retList[10]=((frame1[10]/10)*(10-part))+((frame2[10]/10)*(part));
	retList[11]=((frame1[11]/10)*(10-part))+((frame2[11]/10)*(part));
	
	return retList;
}

function GetY(ind, eye) {
	if (ind==0) {
		return chary;
	} else {
		return l1y[lvlnum][eye];
	}
}
function DrawObj(ind, eye) {
	var dudeup=250;
	var dudeup2=225, dudeup2b=-100;
	var scale, cccx, cccy;
	
	
	if (ind==0) {
		scale=(100/(chary-scrolly));
		
		if (scale>0) {
			RunBod(((charx-400-scrollx)*scale)+400,(cy*scale)+dudeup,scale/2);
		}
	} else if (ind==1) {
		if (bframe!=80) {
			scale=(100/(l1y[lvlnum][eye]-scrolly));
			
			if (scale>0) {
				RunBBod(((l1x[lvlnum][eye]-400-scrollx+bx+(Math.cos((bearwalk*3)/57.29577)*400)-400)*scale)+400,((by+dudeup2b)*scale)+dudeup2,scale*1.5);
			}
		}
	} else if (ind==2) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawDeadOak(0,((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225,scale*1.5);
		}
	} else if (ind==3) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawAxe(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225+(225*scale),scale*1.5);
		}
	} else if (ind==4) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawBerryBush(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225,scale*1);
		}
	} else if (ind==5) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (hazberry>0) {hazberry++;}
		if (hazberry>180) {hazberry=180;}
		
		cccx=((l1x[lvlnum][eye]-400-scrollx+(Math.cos(hazberry/57.29577)*200)-200)*scale)+400;
		cccy=225+(0*scale);
		
		if (scale>0) {
			DrawFly(cccx+5,cccy,scale,10);
			DrawFly(cccx,cccy+3,scale,1);
			DrawFly(cccx+12,cccy,scale,-210);
			DrawFly(cccx+35,cccy,scale,510);
			DrawFly(cccx-24,cccy,scale,230);
			DrawFly(cccx-5,cccy+12,scale,80);
		}
	} else if (ind==6) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawFlower(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225+(225*scale),scale*1.5);
		}
	} else if (ind==7) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawHouse(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(160*scale),scale*1.5);
		}
	} else if (ind==8) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawGrave(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(0*scale),scale*1);
		}
	} else if (ind==9) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			DrawNest(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(512*scale),scale*.7);
		}
	} 
	else
	if (ind==10) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			fba=1;
			
			RunDBod(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(0*scale),scale*.7,0);
		}
	} else if (ind==11) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			fba=1;
			
			RunDBod(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(0*scale),scale*.7,1);
		}
	} else if (ind==12) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			fba=-1;
			
			RunDBod(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225-(0*scale),scale*.7,2);
		}
	} else if (ind==13) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			fba=1;
			
			RunDBod(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225+(128*scale),scale*.7,3);
			DOOD(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225+(128*scale),scale*.7);
		}
	} else if (ind==14) {
		scale=(100/(l1y[lvlnum][eye]-scrolly));
		
		if (scale>0) {
			fba=1;
			
			DrawRock(((l1x[lvlnum][eye]-400-scrollx)*scale)+400,225+(225*scale),scale*1.5,l1y[lvlnum][eye]);
		}
	}
}

function Cabin() {
	scrollx=0;
	scrolly=0;
	
	if (charx<0) {
		charx=0;
		
		cursor_x=charx;
	}
	if (charx>800) {
		charx=800;
		
		cursor_x=charx;
	}
	
	if (chary<90) {
		chary=90;

		cursor_y=chary;
	}
	if (chary>160) {
		chary=160;

		cursor_y=chary;
	}
	
	if (CheckClickB(400,225,100,120,false)) {
		lvlnum=1;
		charx=3475;
		chary=1245;
	}
	
	
	
	context.drawImage(house,0,0);
	
	DrawStuff(3, 0, 400, 255, 70,-40, 1, '#404040', .5);
	DrawStuff(4, 0, 400, 255, 70,-40, 1, '#202020', .5);
	DrawStuff(3, 0, 400, 255,-70,-40, 1, '#404040', .5);
	DrawStuff(4, 0, 400, 255,-70,-40, 1, '#202020', .5);
	DrawStuff(5, 0, 400, 255,  0,-27, 1, '#202020', .7);
	DrawStuff(6, 0, 400, 255, 10,-27, 1, '#A0A060', .4);
	
	DrawObj(0,0);
	
	if (gunthere) {
		context.drawImage(gun,640,250,64,64);
		
		if (CheckClickB(650,300,100,120,false)) {
			InInv[3]=true;
			gunthere=false;
		}
	}
}

var indc = [[0,1,2,3,4,5,6],[0,7,8,9,10,11,12,13,14,2],[0]];
var tx=5800, ty=450, ix=5350, iy=1200, rx=3000, ry=901, fx=3000, fy=801;
var l1x = [[0,6900,5800,5350,3000,3000,4500],[0,3500,10850,5870,11350,11850,12350,11850, 9850,8550],[0,3500,10850,5870,0,0,0,0]];
var l1y = [[0, 491, 450,1200, 901, 801, 321],[0,1302, 1402, 681,  641,  681,  641,  601,  601,1051],[0,3500,10850,5870,0,0,0,0]];

function DrawMap() {
	var nx, ny, rx, ry;
	var dudeup=250;
	var dudeup2=225, dudeup2b=-100;

	for (i=0;i<indc[lvlnum].length;i++) {
		DrawObj(indc[lvlnum][i],i);
	}
	
	for (i=39;i>0;i--) {
		for (j=0;j<indc[lvlnum].length;j++) {
			if (Math.abs((i*40)-GetY(indc[lvlnum][j],j))<20) {
				DrawObj(indc[lvlnum][j],j);
			}
		}
		
		for (j=39;j>0;j--) {
			nx=(j*400)-scrollx;
			ny=(i*40)-scrolly;
			ry=((Math.round(Math.sqrt(j/811)*100000000))%10);
			rx=((Math.round(Math.sqrt(i/811)*100000000))%100)*5;
			
			DrawATree(map[lvlnum][j][i],nx+rx,ny+ry);
		}
	}
	
	for (i=0;i<indc[lvlnum].length;i++) {
		if (GetY(indc[lvlnum][i],i)<20) {
			DrawObj(indc[lvlnum][i],i);
		}
	}
}

var fps = 60;
setInterval(function () {
    draw();
}, 1000 / fps);

document.addEventListener("keydown", KeyDown, false);
document.addEventListener("keyup", KeyUp, false);
document.addEventListener("mousedown", MouseDown, false);
document.addEventListener("mouseup", MouseUp, false);
document.addEventListener("mousemove", MouseMove, false);
		
